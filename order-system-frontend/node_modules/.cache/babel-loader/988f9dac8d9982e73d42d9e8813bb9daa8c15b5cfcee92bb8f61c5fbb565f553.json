{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-page\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, \"Welcome, \" + _toDisplayString($data.username), 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"h1\", null, \"Admin Panel - Manage Products\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.addProduct && $options.addProduct(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newProduct.name = $event),\n    placeholder: \"Product Name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.name]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newProduct.cost = $event),\n    type: \"number\",\n    placeholder: \"Cost\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.cost]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newProduct.quantity = $event),\n    placeholder: \"Quantity\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.quantity]]), _cache[5] || (_cache[5] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Add Product\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _cache[9] || (_cache[9] = _createElementVNode(\"h2\", null, \"Product List\", -1 /* HOISTED */)), _createElementVNode(\"table\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Cost\"), _createElementVNode(\"th\", null, \"Quantity\"), _createCommentVNode(\"th>Actions</th\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: product.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(product.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.cost), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.quantity), 1 /* TEXT */), _cache[6] || (_cache[6] = _createElementVNode(\"td\", null, [_createCommentVNode(\"button @click=\\\"deleteProduct(product.id)\\\">Delete</button\")], -1 /* HOISTED */))]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.handleLogout && $options.handleLogout(...args))\n  }, \"Logout\")]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$data","username","onSubmit","_cache","_withModifiers","args","$options","addProduct","$event","newProduct","name","placeholder","required","cost","type","quantity","_createCommentVNode","_Fragment","_renderList","products","product","key","id","onClick","handleLogout"],"sources":["/home/it2021154/Desktop/QNR_OrderSystem/order-system-frontend/src/components/AdminPage.vue"],"sourcesContent":["<template>\n  <div class=\"admin-page\">\n\n    <h2>Welcome, {{ username }}</h2>\n    <h1>Admin Panel - Manage Products</h1>\n\n\n\n\n\n    <form @submit.prevent=\"addProduct\">\n      <input v-model=\"newProduct.name\" placeholder=\"Product Name\" required />\n      <input v-model=\"newProduct.cost\" type=\"number\" placeholder=\"Cost\" required />\n      <input v-model=\"newProduct.quantity\" placeholder=\"Quantity\" required />\n      <button type=\"submit\">Add Product</button>\n    </form>\n\n    <h2>Product List</h2>\n    <table>\n      <thead>\n      <tr>\n        <th>ID</th>\n        <th>Name</th>\n        <th>Cost</th>\n        <th>Quantity</th>\n        <!--th>Actions</th-->\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"product in products\" :key=\"product.id\">\n        <td>{{ product.id }}</td>\n        <td>{{ product.name }}</td>\n        <td>{{ product.cost }}</td>\n        <td>{{ product.quantity }}</td>\n        <td>\n          <!--button @click=\"deleteProduct(product.id)\">Delete</button-->\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <br>\n    <button @click=\"handleLogout\">Logout</button>\n  </div>\n\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      username: localStorage.getItem('username') || 'User',\n      newProduct: { name: '', cost: '', quantity: '' },\n      products: []\n    };\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await axios.get('http://localhost:9090/api/admin/products');\n        this.products = response.data;\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      }\n    },\n    async addProduct() {\n      try {\n        const response = await axios.post('http://localhost:9090/api/admin/products', this.newProduct);\n        this.products.push(response.data);\n        this.newProduct = { name: '', cost: '', quantity: '' };\n      } catch (error) {\n        console.error('Error adding product:', error);\n      }\n    },\n\n\n    handleLogout() {\n      localStorage.removeItem('token');\n      this.$router.push('/login'); // Redirect to login page\n    },\n\n\n    async deleteProduct(id) {\n      try {\n        await axios.delete(`http://localhost:9090/api/products/${id}`);\n        this.products = this.products.filter(product => product.id !== id);\n      } catch (error) {\n        console.error('Error deleting product:', error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchProducts();\n  }\n};\n</script>\n\n<style>\n.admin-page {\n  max-width: 600px;\n  margin: auto;\n  text-align: center;\n}\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-bottom: 20px;\n}\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\nth, td {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAY;;uBAAvBC,mBAAA,CAyCM,OAzCNC,UAyCM,GAvCJC,mBAAA,CAAgC,YAA5B,WAAS,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,QAAQ,kB,0BACxBH,mBAAA,CAAsC,YAAlC,+BAA6B,sBAMjCA,mBAAA,CAKO;IALAI,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAVjBC,cAAA,KAAAC,IAAA,KAU2BC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;sBAC/BP,mBAAA,CAAuE;IAX7E,uBAAAK,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAWsBR,KAAA,CAAAS,UAAU,CAACC,IAAI,GAAAF,MAAA;IAAEG,WAAW,EAAC,cAAc;IAACC,QAAQ,EAAR;iDAA5CZ,KAAA,CAAAS,UAAU,CAACC,IAAI,E,mBAC/BZ,mBAAA,CAA6E;IAZnF,uBAAAK,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAYsBR,KAAA,CAAAS,UAAU,CAACI,IAAI,GAAAL,MAAA;IAAEM,IAAI,EAAC,QAAQ;IAACH,WAAW,EAAC,MAAM;IAACC,QAAQ,EAAR;iDAAlDZ,KAAA,CAAAS,UAAU,CAACI,IAAI,E,mBAC/Bf,mBAAA,CAAuE;IAb7E,uBAAAK,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAasBR,KAAA,CAAAS,UAAU,CAACM,QAAQ,GAAAP,MAAA;IAAEG,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA5CZ,KAAA,CAAAS,UAAU,CAACM,QAAQ,E,6BACnCjB,mBAAA,CAA0C;IAAlCgB,IAAI,EAAC;EAAQ,GAAC,aAAW,qB,sDAGnChB,mBAAA,CAAqB,YAAjB,cAAY,sBAChBA,mBAAA,CAqBQ,gB,0BApBNA,mBAAA,CAQQ,gBAPRA,mBAAA,CAMK,aALHA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAa,YAAT,MAAI,GACRA,mBAAA,CAAa,YAAT,MAAI,GACRA,mBAAA,CAAiB,YAAb,UAAQ,GACZkB,mBAAA,kBAAqB,C,wBAGvBlB,mBAAA,CAUQ,iB,kBATRF,mBAAA,CAQKqB,SAAA,QArCXC,WAAA,CA6B4BlB,KAAA,CAAAmB,QAAQ,EAAnBC,OAAO;yBAAlBxB,mBAAA,CAQK;MAR4ByB,GAAG,EAAED,OAAO,CAACE;QAC5CxB,mBAAA,CAAyB,YAAAC,gBAAA,CAAlBqB,OAAO,CAACE,EAAE,kBACjBxB,mBAAA,CAA2B,YAAAC,gBAAA,CAApBqB,OAAO,CAACV,IAAI,kBACnBZ,mBAAA,CAA2B,YAAAC,gBAAA,CAApBqB,OAAO,CAACP,IAAI,kBACnBf,mBAAA,CAA+B,YAAAC,gBAAA,CAAxBqB,OAAO,CAACL,QAAQ,kB,0BACvBjB,mBAAA,CAEK,aADHkB,mBAAA,8DAA+D,C;kEAKrElB,mBAAA,CAAI,sCACJA,mBAAA,CAA6C;IAApCyB,OAAK,EAAApB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAkB,YAAA,IAAAlB,QAAA,CAAAkB,YAAA,IAAAnB,IAAA,CAAY;KAAE,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}